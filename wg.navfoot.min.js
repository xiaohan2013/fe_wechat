! function() {
	var a = function() {
		function a(a, b) {
			var c, d = b.split("?")[0],
				e = [],
				f = -1 !== b.indexOf("?") ? b.split("?")[1] : "";
			if ("" !== f) {
				e = f.split("&");
				for (var g = e.length - 1; g >= 0; g -= 1) c = e[g].split("=")[0], -1 !== a.indexOf(c) && e.splice(g, 1);
				d = d + "?" + e.join("&")
			}
			return d
		}

		function b(a, b, c) {
			a = a || w;
			var d = new RegExp("([\\?&]" + b + "=)[^&#]*", "i");
			return a.match(d) ? a.replace(d, "$1" + c) : -1 == a.indexOf("?") ? a + "?" + b + "=" + c : a + "&" + b + "=" + c
		}

		function c(a, b) {
			for (var c in a) {
				var d = c,
					e = new RegExp("{#" + d + "#}", "gi");
				b = b.replace(e, a[c])
			}
			return b
		}

		function d() {
			document.querySelector(".float_618") && (document.querySelector(".float_618").style.display = "")
		}

		function e(a, b) {
			var c = JD.url.getUrlParam("debugtime") ? new Date(decodeURIComponent(JD.url.getUrlParam("debugtime"))) : new Date,
				d = new Date(a.replace(/-/g, "/")),
				e = new Date(b.replace(/-/g, "/"));
			return c >= d && e >= c ? !0 : !1
		}

		function f(a) {
			window.location.href = "weixin" === JD.device.scene ? "http://wq.jd.com/mlogin/wxv3/login_BJ?appid=1&rurl=" + encodeURIComponent(a) : "http://wq.jd.com/mlogin/h5v1/cpLogin_BJ?rurl=" + encodeURIComponent(a)
		}

		function g() {
			window.GlOBAL_HIDE_WXREDPOINT || (JD.sendJs("http://wq.jd.com/wqmsg/redpoint/query?callback=redpoint&t=" + Math.random(), {
				defer: !0,
				async: !0
			}), window.redpoint = function(a) {
				"0" == a.retcode && a.num > 0 && (document.querySelector(".nav_me").className = "nav_me dot", document.querySelector(".nav_me").addEventListener("touchstart", function() {
					JD.sendJs("http://wq.jd.com/wqmsg/redpoint/clear?callback=redpoint&t=" + Math.random(), {
						defer: !0,
						async: !0
					})
				}, !1))
			})
		}

		function h() {
			function a(a) {
				for (var b = 0; a;) {
					if (b++, b > 3) return null;
					if ("a" == a.tagName.toLowerCase()) return -1 !== a.getAttribute("data-link") ? a : null;
					a = a.parentNode
				}
			}

			function d() {
				var a, b = " on",
					d = "&shownav=1",
					e = "";
				return "weixin" == JD.device.scene ? (e = window.GLOBAL_PROMOTE_SIDE_NAVE ? '<a href="javascript:;" class="nav_room"  ptag="' + A.nav.rd.home + '" data-link="1111">分会场 <span class="arr"></span></a>' : '<a  href="javascript:;" data-link="{#home#}" ptag="{#homeptag#}" class="nav_index{#selectedHome#}">购物</a>', a = e + '<a   href="javascript:;"  data-link="{#search#}" ptag="{#searchptag#}" class="nav_search{#selectedSearch#}" style="display:{#hideSearch#}">搜索</a>{#gouwuquan#}<a   href="javascript:;"  data-link="{#cart#}"   ptag="{#cartptag#}"  class="nav_shopcart{#selectedCart#}"  needlogin="1">购物车</a><a   href="javascript:;"  data-link="{#user#}"  ptag="{#userptag#}"  class="nav_me{#selectedUser#}"  needlogin="1">个人中心</a>') : (e = window.GLOBAL_PROMOTE_SIDE_NAVE ? '<a class="eleven" href="javascript:void(0);"  data-link="1111"><span class="line"><i></i></span><span class="text">换会场</span></a>' : '<a href="javascript:;"  class="{#selectedHome#}" data-link="{#home#}" ptag="{#homeptag#}"><span class="line"><i class="tab_7_icon"></i></span> <span class="text">精选</span></a>', a = '<div class="foot_inner">' + e + '<a href="javascript:;"  data-link="{#search#}" ptag="{#searchptag#}" style="display:{#hideSearch#}" class="{#selectedSearch#}"><span class="line"><i class="tab_8_icon"></i></span>   <span class="text">搜索</span> </a><a  href="javascript:;"  data-link="{#cart#}"   ptag="{#cartptag#}"  class="{#selectedCart#}"  needlogin="1"><span class="line"><i class="tab_9_icon"></i></span>        <span class="text">购物车</span> </a> <a  href="javascript:;"  data-link="{#user#}"  ptag="{#userptag#}"  class="{#selectedUser#}"  needlogin="1"><span class="line"><i class="tab_10_icon"></i></span>  <span class="text">个人中心</span> </a> </div>'), params = {
					search: 4 == A.index ? "#" : x.category + "?PTAG=" + A.nav.rd.search + d,
					cart: 5 == A.index ? "#" : x.cart + "?PTAG=" + A.nav.rd.cart + d,
					user: 6 == A.index ? "#" : x.user + "?PTAG=" + A.nav.rd.user + d,
					dao: 7 == A.index ? "#" : x.dao + "?PTAG=37508.1.1" + d,
					selectedHome: 0 === A.index ? b : "",
					selectedSearch: 4 == A.index ? b : "",
					selectedCart: 5 == A.index ? b : "",
					selectedUser: 6 == A.index ? b : "",
					selectedDao: 7 == A.index ? b : "",
					hideSearch: window.closeSearchEntrance ? "none" : "",
					searchptag: A.nav.rd.search,
					cartptag: A.nav.rd.cart,
					homeptag: A.nav.rd.home,
					userptag: A.nav.rd.user
				}, -1 !== w.indexOf(A.nav.homepage) || window._curTpl || (params.selectedHome = "", params.homeptag = ""), params.gouwuquan = window.GLOBAL_SHOW_FOOT_GOUWU ? m() : "", c(params, a)
			}
			var e, h = document.createElement("div"),
				i = "javascript:;",
				j = t.get(v);
			h.className = p + l(), (JD.calendar.period_26_31 || JD.calendar.period_01_10 || JD.calendar.period_11_11 || JD.calendar.period_12_12) && window.GLOBAL_PROMOTE_SIDE_NAVE && (h.className = "weixin" === JD.device.scene ? "wx_nav wx_nav_s11 foot_618" : "QQ_fixed_foot foot_618"), e = d(), (0 !== A.index || A.nav.goHome) && (i = A.nav.isFixHomepage ? A.nav.domain + A.nav.homepage : j ? j : (A.nav.domain ? A.nav.domain : "") + A.nav.homepage, i = b(i, "PTAG", A.nav.rd.home)), e = e.replace("{#home#}", i), h.innerHTML = e, document.querySelector("." + p) ? document.querySelector("." + p).innerHTML = e : document.body.appendChild(h), "weixin" == JD.device.scene && g(), document.querySelector(".WX_backtop") && 1 * document.querySelector(".WX_backtop").style.bottom.replace("px", "") < 60 && (document.querySelector(".WX_backtop").style.bottom = "60px"), k();
			var n = document.querySelector(".nav_newsfeed");
			n && n.addEventListener("click", function() {
				if (n.querySelector(".sign_c_tip")) {
					var a = new Date;
					t.set(r, "1", Math.round((new Date(a.getFullYear(), a.getMonth(), a.getDate() + 1) - a) / 6e4), "/", "jd.com")
				}
			}, !1), document.querySelector("." + p) && document.querySelector("." + p).addEventListener("click", function(b) {
				var c, d, e, g = a(b.target);
				if (g) {
					if (c = g.getAttribute("data-link"), d = g.getAttribute("class"), e = g.getAttribute("needlogin"), "nav_index on" == d || "1111" == c) return;
					return o(), b.preventDefault && b.preventDefault(), e ? t.get("wq_uin") && t.get("wq_skey") ? location.href = c : f(c) : location.href = c, !1
				}
			}, !1)
		}

		function i() {
			var a = t.get("wq_skey"),
				b = null == a ? "" : j(a);
			return b
		}

		function j(a) {
			for (var b = 0, c = a.length, d = 5381; c > b; ++b) d += (d << 5) + a.charAt(b).charCodeAt();
			return 2147483647 & d
		}

		function k() {
			function a(a) {
				JD.sendJs("http://wq.360buyimg.com/data/ppms/js/ppms.page19591.jsonp?t=" + parseInt((new Date).getTime() / 6e4, 10)), window.showPageData19591 = function(b) {
					var c = !1;
					if (b.data[0]) {
						for (var d = b.data, f = 0; f < d.length; f++) {
							var g = d[f];
							if (e(g.begin, g.end)) return c = !0, void a(g)
						}!c && a(null)
					}
				}
			}

			function b(a) {
				if (!t.get(r) && a) {
					var b = "",
						c = "",
						d = "";
					a.simg && (b = '<div class="cover"><img src="' + a.simg + '"></div>', c = " nav_newsfeed_avatar", d = " red"), b += '购物圈<span class="sign_c_tip' + d + '">' + a.stitle + "</span>", document.querySelector(".nav_newsfeed") && (document.querySelector(".nav_newsfeed").innerHTML = b, document.querySelector(".nav_newsfeed").className += c)
				} else {
					if (window.GlOBAL_HIDE_WXREDPOINT) return;
					JD && JD.sendJs("http://wq.jd.com/shopgroup/get_msg?g_tk=" + i() + "&callback=get_msg&t=" + Math.random(), {
						defer: !0,
						async: !0
					}), window.get_msg = function(a) {
						a && 0 === a.iRet && (a.MsgNum > 0 ? document.querySelector(".nav_newsfeed").innerHTML = "购物圈<i>" + a.MsgNum + "</i>" : a.NewFeeds > 0 && (document.querySelector(".nav_newsfeed").innerHTML = "购物圈<i></i>", JD.cookie.set("gwq_feeds", 1, 5, "/", "jd.com")))
					}
				}
			}
			return "weixin" !== JD.device.scene ? !1 : void a(b)
		}

		function l() {
			return JD.calendar && JD.calendar.ISZHONGQIU ? " wx_nav_zhognqiu" : ""
		}

		function m() {
			var a, b, c, d = 6,
				e = "";
			return "weixin" === JD.device.scene && 0 !== (6 & d) && (a = new Date, b = t.get("ck6red"), c = "", e = '<a  href="javascript:;" data-link="http://wqs.jd.com/shopping/shopping.html?wq_version=6&ptag=37513.6.1" ptag="37513.6.1" class="nav_newsfeed' + c + '">购物圈</a>'), e
		}

		function n(a, b) {
			for (var c in b) b.hasOwnProperty(c) && (a[c] = b[c]);
			return a
		}

		function o() {
			0 === A.index && (cookieUrl = w, zhiChuTab = window._curTpl, A.manual ? cookieUrl = A.nav.homepage : -1 !== location.href.indexOf("portal/wx/brand/search_brand.shtml") && (cookieUrl = A.nav.domain + A.nav.homepage), cookieUrl = a(["DAP", "pps"], cookieUrl), t.set(v, cookieUrl, 30, "/", "jd.com"))
		}
		var p, q = {},
			r = "_ws_nav_gwq",
			s = JD.url.getUrlParam,
			t = JD.cookie,
			u = {
				wqs: "http://wqs.jd.com/",
				wq: "http://wq.jd.com/",
				inv6: "http://inv6.wanggou.com/",
				zhichu: "http://wq.jd.com/mcoss/mportal/show",
				zhuchuT: "http://wq.jd.com/mcoss/mportal/show",
				xin: "?tabid=1&tpl=1&actid=35011&pi=1&pc=10&sorttype=0&exclarea=xin",
				brand: "?actid=1562&tabid=2&tpl=3",
				juhui: "?tabid=3&actid=35344&tpl=5&pi=1&pc=20",
				xinNew: "portal/wx/xin.shtml",
				worth: "portal/sq/worth/index.shtml",
				newGouwuQuan: "shopping/shopping.html?wq_version=6",
				searchBrand: "?actid=1562&tabid=2&tpl=3&cgid=&showtype=1|4&ch=8",
				wallet: "portal/wx/wallet/index.shtml",
				microstore: "promote/microstore.shtml",
				guesslike: "shopping/guess.html",
				daogou: "event/daogou/index.html",
				hui: "mcoss/mportal/show?tabid=6&tpl=7"
			},
			v = "_ws_home",
			w = location.href,
			x = {
				category: "weixin" === JD.device.scene ? u.wqs + "portal/wx/category_m.shtml" : u.wqs + "portal/sq/category_q.shtml",
				cart: "http://wqs.jd.com/my/cart/jdshopcart.shtml",
				user: "http://wqs.jd.com/my/indexv2.shtml",
				dao: ""
			},
			y = s("PTAG") || s("ptag"),
			z = s("shownav"),
			A = {
				hide: 0,
				index: 0,
				Rd: {}
			},
			B = {
				newGouwuQuan: {
					rdPrefix: [],
					rd: {
						home: "37084.1.1",
						search: "37084.1.2",
						quan: "",
						cart: "37084.1.3",
						user: "37084.1.4"
					},
					domain: u.wqs,
					homepage: u.newGouwuQuan,
					checkpage: [u.newGouwuQuan],
					isFixHomepage: !0
				},
				daogou: {
					rdPrefix: "37508.1.1",
					rd: {
						home: "",
						search: "",
						quan: "",
						cart: "",
						user: ""
					},
					domain: u.zhichu,
					homepage: u.brand,
					checkpage: [u.daogou],
					isFixHomepage: !1
				},
				guesslike: {
					rdPrefix: "37431.5",
					rd: {
						home: "37431.5.1",
						search: "37431.5.2",
						quan: "",
						cart: "37431.5.3",
						user: "37431.5.4"
					},
					domain: u.inv6,
					homepage: u.guesslike,
					checkpage: [u.guesslike],
					isFixHomepage: !0
				},
				microstore: {
					rdPrefix: "37529.1",
					rd: {
						home: "37529.1.1",
						search: "37529.1.2",
						quan: "",
						cart: "37529.1.3",
						user: "37529.1.4"
					},
					domain: "http://mm.wanggou.com/",
					homepage: u.microstore,
					checkpage: [u.microstore],
					isFixHomepage: !0
				},
				wallet: {
					rdPrefix: "17020.6",
					rd: {
						home: "17020.6.1",
						search: "17020.6.2",
						quan: "",
						cart: "17020.6.3",
						user: "17020.6.4"
					},
					domain: u.wqs,
					homepage: u.wallet,
					checkpage: [u.wallet],
					isFixHomepage: !0
				},
				search_brand: {
					rdPrefix: "37014.1",
					rd: {
						home: "37080.1.1",
						search: "37080.1.2",
						quan: "",
						cart: "37080.1.3",
						user: "37080.1.4"
					},
					domain: u.zhichu,
					homepage: u.searchBrand,
					checkpage: ["portal/wx/brand/search_brand.shtml"],
					goHome: !0,
					isFixHomepage: !0
				},
				brands: {
					rdPrefix: "37146.1",
					rd: {
						home: "37080.1.1",
						search: "37080.1.2",
						quan: "",
						cart: "37080.1.3",
						user: "37080.1.4"
					},
					domain: u.zhichu,
					homepage: u.searchBrand,
					checkpage: null,
					goHome: !0,
					isFixHomepage: !0
				},
				zhichu: {
					rdPrefix: "37080.1",
					rd: {
						home: "37080.1.1",
						search: "37080.1.2",
						quan: "",
						cart: "37080.1.3",
						user: "37080.1.4"
					},
					domain: u.zhichu,
					homepage: u.xin,
					checkpage: [u.zhichu, u.zhuchuT, u.xin, u.brand, u.juhui],
					isFixHomepage: !1
				}
			};
		return q.shownav = z, q.init = function() {
			if (p = "weixin" == JD.device.scene ? "wx_nav" : "QQ_fixed_foot", document.getElementById("navContainer") || (window.GLOBAL_PROMOTE_SIDE_NAVE = !1), window._navfoot && n(A, _navfoot), "boolean" == typeof A.homepage && "true" == A.homepage.toString()) {
				var a = t.get(v);
				A.homepage = "weixin" == JD.device.scene ? a || "http://wq.jd.com/mcoss/wxmall/home?ptype=1&wc_scene=1" : a || "http://wq.jd.com/mcoss/wxmall/home?ptype=4"
			}
			if (window.g_618_setting && window.g_618_setting.isShowGonglue && d(), -1 !== w.indexOf(x.user) ? A.index = 6 : -1 !== w.indexOf(x.cart) ? A.index = 5 : -1 !== w.indexOf(x.category) ? A.index = 4 : -1 !== w.indexOf(x.daogou) && (A.index = 7), 0 === A.index || 4 == A.index || 5 == A.index || 6 == A.index || 7 == A.index) {
				var b, c = function(a) {
					return -1 !== this.paramValue.indexOf(a) ? !0 : !1
				};
				if (A.manual) A.nav = {
					rdPrefix: [],
					rd: A.rd || {
						home: "",
						search: "",
						cart: "",
						user: ""
					},
					homepage: A.homepage || location.href,
					checkpage: [],
					goHome: A.homepage ? !0 : !1
				};
				else {
					for (var e in B)
						if (b = B[e], b.rdPrefix) {
							var f = !1;
							if ("string" == typeof b.rdPrefix && (b.rdPrefix = [b.rdPrefix]), f = b.rdPrefix.some(c, {
									paramValue: y
								}) || b.checkpage && b.checkpage.some(c, {
									paramValue: w
								})) {
								A.nav = b;
								break
							}
						}!A.nav && 6 == A.index && "1" == this.shownav && t.get(v) && (A.nav = {
						rdPrefix: [],
						rd: {
							home: "",
							search: "",
							cart: "",
							user: ""
						},
						homepage: t.get(v),
						checkpage: []
					})
				}
				A.nav && (h(), o())
			}
		}, q
	}();
	(window._navfoot || a.shownav) && !JD.url.getUrlParam("hidenav") && a.init()
}(),
function() {
	function a(a, b) {
		a.addEventListener("click", function(c) {
			return -1 !== c.target.className.indexOf("close") ? (a.style.display = "none", JD.cookie.set(d, 1, Math.round((new Date(e.getFullYear(), e.getMonth(), e.getDate() + 1) - e) / 6e4), "/", "jd.com")) : location.href = b, c.preventDefault && c.preventDefault(), !1
		}, !1)
	}

	function b(a) {
		var b = document.createElement("div");
		return b.className = "wx_side_float show", b.innerHTML = c().replace(/{#stitle#}/g, a.stitle), b.id = "sidepromote1111", document.body.appendChild(b), b
	}

	function c() {
		return [' <div class="float_item float_item_s11 float_item_dong_1" style="display:none">', '        <div class="pop">', '            <div class="txt">{#stitle#}</div>', "        </div>", '        <div class="body"></div>', '        <div class="head"></div>', '        <div class="hand_1"></div>', '        <div class="hand_2"></div>', '        <div class="close"><i class="icon_close"></i></div>', "    </div>", '    <div class="float_item float_item_s11 float_item_dong_2" style="display:none">', "        ", '        <div class="pop">', '            <div class="txt">{#stitle#}</div>', "        </div>", '        <div class="body"></div>', '        <div class="head"></div>', '        <div class="hand_1"></div>', '        <div class="hand_2"></div>', '        <div class="close"><i class="icon_close"></i></div>', "    </div>", '    <div class="float_item float_item_s11 float_item_dong_3" style="display:none">', '        <div class="pop">', '            <div class="txt">{#stitle#}</div>', "        </div>", '        <div class="body"></div>', '        <div class="head"></div>', '        <div class="money_1"></div>', '        <div class="money_2"></div>', '        <div class="money_3"></div>', '        <div class="close"><i class="icon_close"></i></div>', "    </div>", '    <div class="float_item float_item_s11 float_item_dog" style="display:none">', "        ", '        <div class="pop">', '            <div class="txt">{#stitle#}</div>', "        </div>", '        <div class="body"></div>', '        <div class="close"><i class="icon_close"></i></div>', "    </div>"].join("")
	}
	var d = "_s_p_m_s",
		e = new Date;
	!window.GLOBAL_WX_PORLATA11 && !window.GLOBAL_WX_HEADER || JD.cookie.get(d) || (JD.sendJs("http://wq.360buyimg.com/data/ppms/js/ppms.page19501.jsonp?t=" + parseInt((new Date).getTime() / 6e4, 10)), window.showPageData19501 = function(c) {
		if (c.data[0]) {
			var d = c.data[0],
				e = b(d);
			e.querySelector("." + d.cssname).style.display = "", a(e, d.surl)
		}
	})
}();